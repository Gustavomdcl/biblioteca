function initialize(){var directionsDisplay,styles=[{featureType:"all",elementType:"all",stylers:[{saturation:0}]}],firstPoint=new google.maps.LatLng($("#mark-0").data("lat"),$("#mark-0").data("long")),mapOptions={mapTypeControlOptions:{mapTypeIds:["Styled"]},zoom:13,center:firstPoint,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeId:"Styled"},directionsService=new google.maps.DirectionsService,map=new google.maps.Map(document.getElementById("map-canvas"),mapOptions,styles);directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:!0});var styledMapType=new google.maps.StyledMapType(styles,{name:"Styled"});map.mapTypes.set("Styled",styledMapType),directionsDisplay.setMap(map),$(".map-place").each(function(i){var marker=[];marker[i]=new google.maps.Marker({position:new google.maps.LatLng($(this).data("lat"),$(this).data("long")),map:map,animation:google.maps.Animation.DROP,icon:"assets/img/map/map-marker.png"}),marker[i].setMap(map),google.maps.event.addListener(marker[i],"click",function(){map.setZoom(16),map.setCenter(marker[i].getPosition())});var myPlace=document.getElementById("mark-"+i);google.maps.event.addDomListener(myPlace,"click",function(){map.setZoom(16),map.setCenter(marker[i].getPosition()),firstPoint=marker[i].getPosition()})});var input=document.getElementById("start"),autocomplete=new google.maps.places.Autocomplete(input);autocomplete.bindTo("bounds",map);var markerRoute=new google.maps.Marker({map:map});google.maps.event.addListener(autocomplete,"place_changed",function(){markerRoute.setVisible(!1);var place=autocomplete.getPlace();if(place.geometry){markerRoute.setIcon({url:"assets/img/map/map-marker.png"}),markerRoute.setPosition(place.geometry.location),markerRoute.setVisible(!0);var start_route=place.geometry.location,end_route=firstPoint,request={origin:start_route,destination:end_route,travelMode:google.maps.TravelMode.DRIVING};directionsService.route(request,function(response,status){status==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(response)})}})}function loadScript(){var script=document.createElement("script");script.type="text/javascript",script.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places&callback=initialize",document.body.appendChild(script)}window.onload=loadScript;